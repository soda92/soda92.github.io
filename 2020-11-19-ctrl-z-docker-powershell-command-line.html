<!DOCTYPE html>

<html lang="en-US" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>ctrl+z导致powershell中docker命令行意外退出 &#8212; SodaCris&#39;s blog  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <script src="_static/documentation_options.js?v=ccd1e645"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="toybrick板子折腾笔记" href="2021-10-28-toybrick-tb96-ai.html" />
    <link rel="prev" title="代码的政治性" href="2021-07-27-coding-is-political.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="ctrl-zpowershelldocker">
<h1>ctrl+z导致powershell中docker命令行意外退出<a class="headerlink" href="#ctrl-zpowershelldocker" title="Link to this heading">¶</a></h1>
<p>最近经常使用 pwsh（PowerShell Core）连接 docker 访问 PostgreSQL
数据库，当我编辑命令的时候，可以使用
Ctrl+左右方向键进行左右词间的跳转，或者使用 alt+backspace
进行以词为单位的删除。</p>
<p>然而，当我多删了一个词的时候，长时间使用文本编辑器的习惯使我按下了
ctrl+z，希望进行恢复。这时，意外发生了：docker 命令行退出，返回到了 pwsh
prompt。</p>
<p>我尝试进行了一些搜索：</p>
<ul class="simple">
<li><p>ctrl+z terminate docker terminal</p></li>
<li><p>suspend and recover in powershell</p></li>
<li><p>docker windows “ctrl z”</p></li>
</ul>
<p>得到了一些相关的内容：</p>
<ul class="simple">
<li><p><a class="reference external" href="https://alankent.me/2017/07/04/windows-powershell-control-z-and-kitemati/">alankent.me</a></p></li>
<li><p><a class="reference external" href="https://memotut.com/solution-of-the-problem-that-ctrl+z-cannot-be-used-in-powershell-in-docker-for-windows-environment-(tentative)-3d0ce/">memotut.com</a></p></li>
</ul>
<p>看起来，ctrl+z 会生成 EOF，这或许是导致问题的原因。相关的 blog post
中提到，在 powershell 中可以使用 Legacy
mode（使用旧版控制台）来解决。然而，我使用的是 Windows
Terminal，没有相关的选项。</p>
<p>最终，我想到了一种替代的方法：<a class="reference external" href="https://docs.microsoft.com/en-us/windows/terminal/customize-settings/actions">自定义快捷键</a>。</p>
<p>我在 windows Terminal 的 settings.json 中放置了如下代码：</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;command&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;commandPalette&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ctrl+z&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>当然，也可以使用其他的command；这并不重要。这时，ctrl+z便会执行自定义的动作，而不是产生EOF。这或许会带来一些其他的影响；然而，这确实解决了我的问题。</p>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">SodaCris's blog</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Articles:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="2022-04-03-move-to-ipykernel.html">迁移到Jupyter</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-07-27-coding-is-political.html">代码的政治性</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ctrl+z导致powershell中docker命令行意外退出</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-10-28-toybrick-tb96-ai.html">toybrick板子折腾笔记</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-10-17-trying-d3js.html">尝试d3js</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-12-21-building-qt.html">编译Qt</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-11-24-linux-scan-new-disk-vmware.html">Linux scan new disk (VMWare)</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-09-26-using-of-auto-in-cpp.html">C++中auto的使用</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-04-13-vagrant-config.html">Vagrant Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="2022-04-13-vagrant-config.html#update-images">update images</a></li>
<li class="toctree-l1"><a class="reference internal" href="2021-04-24-tempermonkey-captcha-recognization.html">tampermonkey验证码识别</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="about.html">About me</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="2021-07-27-coding-is-political.html" title="previous chapter">代码的政治性</a></li>
      <li>Next: <a href="2021-10-28-toybrick-tb96-ai.html" title="next chapter">toybrick板子折腾笔记</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2022, SodaCris.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/2020-11-19-ctrl-z-docker-powershell-command-line.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>